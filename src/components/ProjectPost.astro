---
import { GithubIcon } from "./icons/GithubIcon";
import { PuzzlePice } from "./icons/PuzzlePice";
import { ArrowTopRightOnSquare } from "./icons/ArrowTopRightOnSquare";

interface Props {
  urlProject: string;
  urlGitHub: string;
  nameProject: string;
  description: string;
  coverImage: string;
  collaboration: boolean;
}

const {
  urlProject,
  nameProject,
  description,
  urlGitHub,
  coverImage,
  collaboration,
} = Astro.props;
---

<li
  class="h-[240px] w-[360px] rounded-lg flex flex-col items-center justify-center overflow-hidden relative shadow-md dark:shadow-obscure-light
group/title group/image text-obscure-dark dark:text-blank-light dark:bg-first-dark/60 md:h-[240px] md:w-[360px] lg:h-[300px] lg:w-[420px]"
>
  <div
    class={`w-full h-full flex-1 rounded-md grayscale image group-hover/image:grayscale-0 flex overflow-hidden`}
  >
    <a href={urlProject} target="_blank" class="w-full h-full">
      <img
        src={coverImage ?? "./icons/Image"}
        alt={`${nameProject} screenshot app`}
        class="h-full w-full object-cover"
      />
    </a>
  </div>
  <main
    class="w-full text-base px-2 py-1 absolute bottom-0 rounded-b-lg hidden z-10 text-blank image group-hover/image:block group-hover/image:bg-obscure-dark/80"
  >
    <div class="flex items-center justify-between">
      <h3 class="flex-1 font-bold">{nameProject}</h3>
      <div class="mb-2 flex items-center justify-center gap-2 text-xl">
        {
          collaboration && (
            <span title="Project collaborative">
              <PuzzlePice />
            </span>
          )
        }
        <a
          href={urlProject}
          target="_blank"
          class="p-1 hover:text-obscure hover:bg-blank rounded-full"
          title="Preview in another tab"
        >
          <ArrowTopRightOnSquare />
        </a>
        <a
          href={urlGitHub}
          target="_blank"
          class="p-1 hover:text-obscure hover:bg-blank rounded-full"
          title="Go to the project repository"
        >
          <GithubIcon />
        </a>
      </div>
    </div>
    <p class="text-sm line-clamp-2">
      {description}
    </p>
  </main>
</li>
